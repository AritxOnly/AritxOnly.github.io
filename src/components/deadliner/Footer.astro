---
const { footer } = Astro.props as {
  footer: {
    brand?: { name?: string };
    links?: Array<{ label: string; href: string; external?: boolean }>;
  };
};

const year = new Date().getFullYear();
const brand = footer.brand?.name ?? "Deadliner";
---

<footer class="footer">
  <div class="wrap foot">
    <div>
      <div class="brand">{brand}</div>
      <div class="copy">© {year} {brand}. All rights reserved.</div>
      <div class="icp">
        <a href="https://beian.miit.gov.cn/" target="_blank" rel="noreferrer">鄂ICP备2026002477号-1</a>
      </div>
    </div>

    <div class="links">
      {footer.links?.map((l) => (
        <a href={l.href} target={l.external ? "_blank" : undefined} rel={l.external ? "noreferrer" : undefined}>
          {l.label}
        </a>
      ))}
    </div>
  </div>
</footer>

<style>
  .footer{
    padding:34px 0 50px;
    color:var(--muted);
    border-top:1px solid var(--line);
    margin-top:24px;
  }
  .foot{display:flex; gap:16px; justify-content:space-between; align-items:flex-start; flex-wrap:wrap}
  .brand{font-weight:650; color:var(--text)}
  .copy{margin-top:10px}
  .icp{margin-top:10px; font-size:80%}
  .icp a{color:var(--muted); text-decoration:underline}
  .icp a:hover{color:var(--text)}
  .links a{color:var(--muted); font-size: 80%;}
  .links a:hover{color:var(--text)}
</style>